{% extends 'blog/base.html' %}
{% load static %}

{% block content %}
<div class="listado-container">
  <h2>Listado de Posts</h2>

  <form method="get" action="{% url 'listado' %}">
    <input type="text" name="q" placeholder="Buscar por título..." value="{{ request.GET.q }}">
    <button type="submit" class="btn-principal">Buscar</button>
  </form>

  <hr>

  {% if posts %}
    {% for post in posts %}
      <div class="post-card">
        <a href="{% url 'detalle_post' post.pk %}">{{ post.titulo }}</a>
        <p><strong>Categoría:</strong> {{ post.categoria }}</p>
        <p><strong>Autor:</strong> {{ post.autor }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p class="no-resultados">No se encontraron resultados.</p>
  {% endif %}

  <div style="text-align: center; margin-top: 20px;">
    <a href="{% url 'inicio' %}" class="btn-inicio">← Volver al inicio</a>
  </div>
</div>
{% endblock %}
